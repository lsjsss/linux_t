

@[TOC]( TCP/IP configuration | Cloud computing )

---
# 1. TCP/IP地址配置
## 1.1 问题
> 为主机配置以下网络参数：
> 1）IP地址 192.168.1.10
> 2）子网掩码 255.255.255.0
> 3）网关 192.168.1.254
> 4）DNS 202.106.0.20
> 5）查看配置参数

## 1.2 方案
使用1台Windows 2008虚拟机，给其配置ip地址确保其可以正常的通信。

## 1.3 步骤
实现此案例需要按照如下步骤进行。

**步骤一：为Windows 2008服务器配置IP地址，通过控制面板设置网卡的IP地址。**

1）通过 `开始`-->`控制面板`-->`网络和Internet`-->`网络和共享中心`-->`更改适配器设置`可查看网络连接列表，双击`本地连接`-->`属性`-->`Internet协议版本4（TCP/IPv4）`，可打开属性设置窗口。将IP地址设置为192.168.1.10，子网掩码255.255.255.0、网关设置为192.168.1.254、DNS设置为202.106.0.20，如图-8所示，单击“确定”保存，如图-1所示
![图-1](https://img-blog.csdnimg.cn/4313299de42d4b559b1dbde84630439e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP6aWF6aCt,size_20,color_FFFFFF,t_70,g_se,x_16)


2）通过本地连接属性中的“详细信息”可确认设置结果，如图-2所示

3)通过命令行查看网卡的IP地址

单击“开始”-->“运行”，输入“cmd”并确定，如图-3所示

将会打开cmd命令控制台窗口，如图-4所示

/

图-4

执行命令“ipconfig /all”可查看当前IP地址的详细配置：
```shell
C:\Users\Administrator> ipconfig /all
Windows IP 配置
   主机名  . . . . . . . . . . . . . : WIN-BHVD7FRDKUU
   主 DNS 后缀 . . . . . . . . . . . :
   节点类型  . . . . . . . . . . . . : 混合
   IP 路由已启用 . . . . . . . . . . : 否
   WINS 代理已启用 . . . . . . . . . : 否
以太网适配器 本地连接:
   连接特定的 DNS 后缀 . . . . . . . :
   描述. . . . . . . . . . . . . . . : Intel(R) PRO/1000 MT Network Connection
   物理地址. . . . . . . . . . . . . : 00-0C-29-68-96-8E
   DHCP 已启用 . . . . . . . . . . . : 否
   自动配置已启用. . . . . . . . . . : 是
   本地链接 IPv6 地址. . . . . . . . : fe80::6996:7ae3:7c3b:4841%11(首选)
   IPv4 地址 . . . . . . . . . . . . : 192.168.1.10(首选)
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . : 192.168.1.254
   DHCPv6 IAID . . . . . . . . . . . : 234884137
   DHCPv6 客户端 DUID  . . . . . . . : 00-01-00-01-1A-0B-72-75-00-0C-29-68-96-8E
   DNS 服务器  . . . . . . . . . . . : 202.106.0.20
   
   TCPIP 上的 NetBIOS  . . . . . . . : 已启用
.. ..
C:\Users\Administrator> 
```

# 2. 网络连通性测试
## 2.1 问题
> 为主机设置以下网络参数并测试连通性：
1)主机1配置IP地址 192.168.1.10，子网掩码 255.255.255.0
2)主机2配置IP地址 192.168.1.20，子网掩码 255.255.255.0
3)两台主机连接到同一网络
4)用ping命令测试网络连通性

## 2.2 方案
使用2台Windows 2008虚拟机，如图-5所示。将两个2008虚拟机网卡的IP地址设置为同一个网段，即可相互通信

/

图-5

实现此案例需要按照如下步骤进行。

## 2.3 步骤
**步骤一：修改两台Windows 2008虚拟机的网络类及IP地址**

1)为Windows 2008（server1）配置IP地址，通过控制面板设置网卡的IP地址

通过“开始”-->“控制面板”-->“网络和Internet”-->“网络和共享中心”-->“更改适配器设置”可查看网络连接列表，双击“本地连接”-->“属性”-->“Internet协议版本4（TCP/IPv4）”，可打开属性设置窗口。将IP地址设置为192.168.1.10，子网掩码255.255.255.0、网关设置为192.168.1.254、DNS设置为202.106.0.20，如图-6所示，单击“确定”保存。

/

图-6

2)为Windows 2008（server2）配置IP地址，通过控制面板设置网卡的IP地址。

通过“开始”-->“控制面板”-->“网络和Internet”-->“网络和共享中心”-->“更改适配器设置”可查看网络连接列表，双击“本地连接”-->“属性”-->“Internet协议版本4（TCP/IPv4）”，可打开属性设置窗口。将IP地址设置为192.168.1.20，子网掩码255.255.255.0、网关设置为192.168.1.254、DNS设置为202.106.0.20，如图-7所示，单击“确定”保存。

/

图-7

步骤二：关闭两台Windows 2008系统的防火墙

1)通过`控制面板`-->`检查防火墙状态`，可以查看防火墙服务的运行状态（默认为绿色的标识，标识已启用），如图-8所示

/

图-8

2)单击左侧的`打开或关闭Windows防火墙`，可自定义是否启用防火墙，对于普通内网服务器建议可将防火墙关闭，如图-9所示，单击确定。

/

图-9

3)再次检查防火墙状态，发现已经变成醒目的红色，表示Windows防火墙已停止，如图-10所示。

/

图-10

步骤三：使用ping命令测试网络连通性

1)使用命令行查看两台设备间是否可以通信

在Windows 2008（server1）中单击`开始`-->`运行`，输入`cmd`并确定，如图-11所示

/

图-11

将会打开cmd命令控制台窗口，如图-12所示

/

图-12

确认可ping通本网段内的其他主机IP地址（192.168.1.20）

若成功获得“来自192.168.1.20的回复”，说明本机可访问本网段内其他主机：
```shell
C:\Users\Administrator> ping 192.168.1.20
正在 Ping 192.168.1.20 具有 32 字节的数据:
来自 192.168.1.20 的回复: 字节=32 时间<1ms TTL=128
来自 192.168.1.20 的回复: 字节=32 时间<1ms TTL=128
来自 192.168.1.20 的回复: 字节=32 时间<1ms TTL=128
来自 192.168.1.20 的回复: 字节=32 时间<1ms TTL=128
192.168.1.20 的 Ping 统计信息:
    数据包: 已发送 = 4，已接收 = 4，丢失 = 0 (0% 丢失)，
往返行程的估计时间(以毫秒为单位):
    最短 = 0ms，最长 = 0ms，平均 = 0ms
```

# Exercise
## 1 请描述TCP/IP协议中主机与主机之间通信的三要素

IP地址（IP address）

子网掩码（subnet mask）

IP路由（IP router）

## 2 请描述IP地址的分类及每一类的范围

A类1-127

B类128-191

C类192-223

D类224-239组播(多播)

E类240-254科研

## 3 请描述A、B、C三类IP地址的默认子网掩码

A类255.0.0.0

B类255.255.0.0

C类255.255.255.0

## 4 在windows server 2008R2系统中如何通过命令查看主机IP地址

实现此案例需要按照如下步骤进行。

> 步骤一：打开命令提示符

点击开始菜单运行—输入CMD后回车或点击`开始菜单`—`所有程序`—`附件`—`命令提示符`

> 步骤二：用命令查看windows主机的IP地址 `shell ipconfig`或`ipconfig/all`



> 如有侵权，请联系作者删除
